# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/ko/1.1.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [0.2.0] - 2025-01-21

### Added

- Google Forms 스타일 질문 카드 UI
  - 직관적인 질문 카드 인터페이스로 전면 리팩토링
  - TIME, DROPDOWN 필드 타입 추가
  - '기타' 옵션 지원 (hasOtherOption)
  - 질문 옵션 드래그 정렬 기능
- 제출자 상태 관리 시스템
  - REJECTED 상태 지원
  - 관리자 확인 체크박스
  - 반려 후 재제출 시 ResubmissionLog 자동 기록
  - 제출자 상세에서 재제출 이력 표시
- 스프레드시트 Import 기능
  - Excel, CSV, Numbers 파일로 제출자 일괄 등록
- 드래그 순서 변경 기능
  - 서류 항목 드래그 정렬
  - 질문 드래그 정렬
  - 선택지 드래그 정렬
- 문서함 등록 폼 UX 개선
  - Sticky Header 및 Fixed Footer
  - 섹션 접기/펼치기 기능 (Collapsible)
  - 섹션 헤더 툴팁 기능
- TimePicker 하이브리드 컴포넌트 (키보드 + 드롭다운)
- 제출화면 미리보기 플로우 개선 (Landing → Upload 전환)
- 양식 파일 다운로드 기능
  - 관리자: 필수 서류별 양식 파일 업로드 (복수 파일 지원)
  - 사용자: 양식 다운로드 버튼으로 즉시 다운로드
  - 2개 이상 양식 시 ZIP 파일 자동 생성 및 일괄 다운로드
  - 문서함 수정 시 불필요한 S3 파일 자동 삭제
- 제출 서류 복수 파일 업로드 지원
  - 관리자: '받을 파일이 여러 개예요' 체크박스로 설정
  - 사용자: 하나의 항목에 최대 10개 파일 업로드 (총 100MB)
- 폼 입력 제출 기능
  - 텍스트, 날짜, 라디오, 체크박스 등 다양한 필드 타입 지원
  - 관리자: 폼 필드 그룹 관리 및 응답 조회
  - 폼 응답 CSV 다운로드 기능
- 리마인드 발송 시점 커스텀 설정
  - 마감 n일/주 전, 시간(30분 단위) 설정 가능
  - 구글 캘린더 스타일 UI
  - Beta 사용자 무료 제공 안내 추가
- 이메일 본문 편집 기능
  - TipTap 에디터 기반 WYSIWYG 편집
  - 인사말/아랫말 커스터마이징
  - 리마인더 스케줄별 개별 템플릿 선택 기능
  - 사용자 기반 템플릿 시스템 (마지막 편집 템플릿 자동 적용)
- 문서함 상태 관리 기능
  - OPEN, CLOSED, CLOSED_EXPIRED 상태 지원
  - 마감 후 제출 허용 설정 (OPEN_SOMEONE 상태)
  - 문서함 상세 페이지에 상태 Badge 표시
  - 자동 상태 전환 Cron Job (마감 시 CLOSED_EXPIRED)
- 제출자별 상세 보기
  - Drawer UI로 여러 명 연속 검토 최적화
  - 이미지/PDF 파일 미리보기 (Dialog 뷰어)
  - 개별 파일 및 전체 ZIP 다운로드
  - 늦은 제출 아이콘(ClockAlert) 표시
- 제출 마감일 시간 선택 기능 (30분 단위)
- 계정 설정 페이지 통합
  - 프로필 정보 (연락처 실시간 포맷팅)
  - Google OAuth 로그인 방식 표시
  - 활성 세션 관리 (기기별 로그아웃)
- 회원 탈퇴 기능
  - 개인정보 즉시 삭제, 문서함/제출 서류 보존
  - 제출자 정보 익명화 처리
  - S3 기본 로고 파일 자동 삭제
- 약관 및 개인정보처리방침 페이지
  - 모달 컴포넌트로 표시
  - 로그인/회원가입 페이지 약관 동의 문구 추가
  - 푸터에 사업자 정보 및 약관 링크 추가

### Changed

- 폼 필드 구조 개선
  - 폼 필드 그룹 제거, FormField가 DocumentBox에 직접 연결
  - 개별 질문 카드 UI로 전면 전환
- 제출 현황 로직 개선
  - 제출자 목록에서 제출 경험자만 표시
  - 제출완료 기준 변경 (SUBMITTED 상태만 카운트)
- UI 텍스트 개선
  - '기본 정보 입력' → '기본정보'
  - '정보 입력 항목' → '사용자 입력 폼'
  - '받을 파일이 여러 개예요' → '복수 업로드 허용'
- 베타 기간 무료 이용 문구로 변경 ('14일 무료' → '베타 기간 무료')
- 문서함 등록/수정 폼 Card 통합 (4개 → 1개, 섹션 구분선)
- 파일 업로드 정책 변경 (화이트리스트 → 블랙리스트, 실행 파일만 차단)
- 등록된 제출자 정보 수정 불가 (관리자 정의 유지)
- Cron 로직 Next.js 서버 내장 방식으로 전환

### Fixed

- 체크박스 label 및 기타 옵션 미표시 버그 수정
- 제출 통계 계산 수정 (PENDING 제외)
- QuestionCard ring 스타일 잘림 수정
- 툴팁 overflow 문제 해결
- 이메일 에디터 아랫말 스타일 및 글자 크기 미리보기 문제 해결
- 리마인더 스케줄 Dialog UI 개선 (Select 크기, 간격, 높이 조정)
- Select 드롭다운 스크롤바 표시 문제 수정
- 비소유자 대시보드 접근 시 적절한 제출 페이지로 리다이렉트
- 파일 업로드 안내 문구 개선 (차단 확장자 구체적 표시)
- 중첩 ZIP 파일 내부 실행 파일 재귀 검사 (최대 3단계)

## [0.1.1] - 2025-01-14

### Added

- 디자인 시스템 컴포넌트 섹션 확장 및 분류 체계 개선

### Changed

- 파일 업로드 방식을 비동기로 전환, 취소/재시도 기능 추가
- 파일 형식 제한 완화 및 서류 설명 줄바꿈 지원

### Fixed

- 파일 업로드 안내 문구 개선
- 중첩 ZIP 파일 검사 및 안내 문구 추가

## [0.1.0] - 2025-01-XX

### Added

- 문서함 생성/수정/삭제 기능
- 제출자 관리 및 이메일 발송
- 파일 업로드 (S3 Presigned URL)
- 무한 스크롤 목록 컴포넌트
- 회원가입 후 자동 로그인
- 문서함 수정 시 제출 내역 충돌 처리 및 강제 삭제 기능
- 전체 스크롤바 커스텀 스타일

### Fixed

- 인증 에러 메시지 처리 중앙화
- 로그인 리다이렉트 로직 개선
- CORS 헤더 설정 (INVALID_ORIGIN 에러 해결)
- Server Component 쿠키 수정 에러 수정

---

## 버전 규칙

- **MAJOR**: Breaking Change (하위 호환 X)
- **MINOR**: 새 기능 추가 (하위 호환)
- **PATCH**: 버그 수정 (하위 호환)
